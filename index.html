<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Budget Tracker</title>
<link rel="manifest" href="manifest.json">
<style>
:root {
--primary-color: #4CAF50;
--secondary-color: #f2f2f2;
--font-color: #333;
--border-radius: 8px;
--box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
body {
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
background-color: var(--secondary-color);
margin: 0;
padding: 1rem;
color: var(--font-color);
}
.container {
max-width: 600px;
margin: 0 auto;
}
h1 {
text-align: center;
color: var(--primary-color);
}
.add-category-form {
display: flex;
gap: 0.5rem;
margin-bottom: 1.5rem;
}
.add-category-form input {
flex-grow: 1;
padding: 0.8rem;
border: 1px solid #ccc;
border-radius: var(--border-radius);
font-size: 1rem;
}
.add-category-form button {
padding: 0.8rem 1rem;
background-color: var(--primary-color);
color: white;
border: none;
border-radius: var(--border-radius);
cursor: pointer;
font-size: 1rem;
transition: background-color 0.3s;
}
.add-category-form button:hover {
background-color: #45a049;
}
.category {
background-color: white;
padding: 1rem;
border-radius: var(--border-radius);
margin-bottom: 1rem;
box-shadow: var(--box-shadow);
}
.category-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 0.5rem;
}
.category-title {
font-weight: bold;
font-size: 1.1rem;
}
.category-budget {
font-size: 0.9rem;
color: #666;
}
.progress-bar-container {
width: 100%;
background-color: #e0e0e0;
border-radius: var(--border-radius);
margin-bottom: 0.5rem;
}
.progress-bar {
height: 15px;
background-color: var(--primary-color);
width: 0%;
border-radius: var(--border-radius);
transition: width 0.3s ease-in-out;
}
.progress-bar.over-budget {
background-color: #f44336;
}
.category-footer {
display: flex;
justify-content: space-between;
align-items: center;
}
.add-transaction-btn {
background-color: var(--primary-color);
color: white;
border: none;
border-radius: 50%;
width: 30px;
height: 30px;
font-size: 1.5rem;
cursor: pointer;
display: flex;
justify-content: center;
align-items: center;
padding-bottom: 4px;
}
.download-btn {
margin: 1rem auto;
display: block;
padding: 0.6rem 1.3rem;
background-color: #2196F3;
color: white;
border: none;
border-radius: var(--border-radius);
cursor: pointer;
font-size: 1rem;
box-shadow: var(--box-shadow);
transition: background 0.3s;
}
.download-btn:hover {
background-color: #1976d2;
}
</style>
</head>
<body>

<div class="container">
<h1>My Budget Tracker</h1>

<div class="add-category-form">
<input type="text" id="categoryName" placeholder="Category Name">
<input type="number" id="categoryBudget" placeholder="Budget">
<button onclick="addCategory()">Add Category</button>
</div>

<button class="download-btn" onclick="downloadBudgetData()">Download Budget Data</button>

<div id="categoriesList"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', loadBudgetData);

function getBudgetData() {
const budgetDataJSON = localStorage.getItem('budgetTrackerData');
return budgetDataJSON ? JSON.parse(budgetDataJSON) : [];
}

function saveBudgetData(data) {
localStorage.setItem('budgetTrackerData', JSON.stringify(data));
}

function loadBudgetData() {
const budgetData = getBudgetData();
const categoriesList = document.getElementById('categoriesList');
categoriesList.innerHTML = '';
budgetData.forEach((category, index) => {
const categoryElement = createCategoryElement(category, index);
categoriesList.appendChild(categoryElement);
updateProgressBar(index);
});
}

function addCategory() {
const categoryNameInput = document.getElementById('categoryName');
const categoryBudgetInput = document.getElementById('categoryBudget');
const categoryName = categoryNameInput.value.trim();
const categoryBudget = parseFloat(categoryBudgetInput.value);

if (categoryName && !isNaN(categoryBudget) && categoryBudget > 0) {
const budgetData = getBudgetData();
budgetData.push({
name: categoryName,
budget: categoryBudget,
spent: 0
});
saveBudgetData(budgetData);
loadBudgetData();
categoryNameInput.value = '';
categoryBudgetInput.value = '';
} else {
alert('Please enter a valid category name and budget.');
}
}

function addTransaction(categoryIndex) {
const transactionAmount = prompt('Enter transaction amount:');
if (transactionAmount === null) return;

const amount = parseFloat(transactionAmount);
if (!isNaN(amount) && amount > 0) {
const budgetData = getBudgetData();
budgetData[categoryIndex].spent += amount;
saveBudgetData(budgetData);
updateProgressBar(categoryIndex);
updateCategorySpent(categoryIndex);
} else {
alert('Please enter a valid amount.');
}
}

function createCategoryElement(category, index) {
const element = document.createElement('div');
element.className = 'category';
element.innerHTML = `
<div class="category-header">
<div class="category-title">${category.name}</div>
<div class="category-budget" id="categoryBudget-${index}">Budget: $${category.budget.toFixed(2)}</div>
</div>
<div class="progress-bar-container">
<div class="progress-bar" id="progressBar-${index}"></div>
</div>
<div class="category-footer">
<div id="categorySpent-${index}">Spent: $${category.spent.toFixed(2)}</div>
<button class="add-transaction-btn" onclick="addTransaction(${index})">+</button>
</div>
`;
return element;
}

function updateProgressBar(index) {
const budgetData = getBudgetData();
const category = budgetData[index];
const progressBar = document.getElementById(`progressBar-${index}`);
const percentage = (category.spent / category.budget) * 100;

progressBar.style.width = `${Math.min(percentage, 100)}%`;

if (percentage > 100) {
progressBar.classList.add('over-budget');
} else {
progressBar.classList.remove('over-budget');
}
}

function updateCategorySpent(index) {
const budgetData = getBudgetData();
const category = budgetData[index];
const spentElement = document.getElementById(`categorySpent-${index}`);
spentElement.textContent = `Spent: $${category.spent.toFixed(2)}`;
}

function downloadBudgetData() {
const data = getBudgetData();
const blob = new Blob([JSON.stringify(data, null, 2)], {type: "application/json"});
const a = document.createElement('a');
a.href = URL.createObjectURL(blob);
a.download = "budget_data.json";
document.body.appendChild(a);
a.click();
setTimeout(() => {
URL.revokeObjectURL(a.href);
a.remove();
}, 0);
}
</script>

</body>
</html>
